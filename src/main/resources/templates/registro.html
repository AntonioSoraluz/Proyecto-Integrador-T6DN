<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<title>Registro</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
</head>
<body class="bg-gradient-primary">

	<div class="container">

		<div class="card o-hidden border-0 shadow-lg my-5">
			<div class="card-body p-0">
				<div class="row">
					<div class="col-lg-5 d-none d-lg-block bg-register-image">
						<img class="img-fluid" th:src="@{/img/registro_img.png}">
					</div>
					<div class="col-lg-7">
						<div class="p-5">
							<div class="text-center">
								<h1 class="h4 text-gray-900 mb-4">Crear una cuenta</h1>
							</div>
							<form class="user needs-validation" th:action="@{/registro}" method="post"
								th:object="${usuario}" id="formulario" novalidate>
								<div th:if=${param.exito}>
									<div class="alert alert-info" id="alerta">Se ha registrado
										exitosamente a la aplicación</div>
								</div>
								<div th:if=${errorEmail}>
									<div class="alert alert-danger" id="alerta"><span th:text="${errorEmail}"></span></div>
								</div>
								<div th:if=${errorDni}>
									<div class="alert alert-danger" id="alerta"><span th:text="${errorDni}"></span></div>
								</div>
								<div class="d-flex justify-content-center">
									<div class="form-check form-check-inline" data-toggle="buttons">
										<label class="btn btn-outline-success btn-lg" for="RolOption"> <input
											class="form-check-input" type="radio" name="role"
											th:value="ROLE_USER" id="RolOption" autocomplete="off" onclick="hideShowDiv(1)"> Usuario
										</label> <label class="btn btn-outline-success btn-lg" for="RolOption2"> <input type="radio"
											class="form-check-input" name="role" th:value="Rol_Empresario"
											id="RolOption2" autocomplete="off" onclick="hideShowDiv(2)" > Empresario
										</label>
										<div class="invalid-feedback">Seleccione un tipo de usuario.</div>
									</div>
								</div>
								<div class="form-group row">
									<div class="col-sm-6 mb-3 mb-sm-0">
										<label class="control-label" for="nombres">Nombres : </label>
										<input id="nombres" type="text" class="form-control"
											th:field="*{nombres}" autofocus="autofocus"
											required pattern="[a-zA-ZñÑáéíóúÁÉÍÓÚ\s]{2,30}">
											<div class="invalid-feedback">Ingrese los nombres correctamente.</div>
									</div>
									<div class="col-sm-6">
										<label class="control-label" for="apellidos">Apellidos
											: </label> <input id="apellidos" class="form-control"
											th:field="*{apellidos}" autofocus="autofocus"
											required pattern="[a-zA-ZñÑáéíóúÁÉÍÓÚ\s]{2,30}">
											<div class="invalid-feedback">Ingrese los apellidos correctamente.</div>
									</div>
								</div>
								<div class="form-group row">
								<div class="col-sm-6 mb-3 mb-sm-0">
									<label class="control-label" for="dni">DNI : </label> <input
										id="dni" type="text" class="form-control" th:field="*{dni}"
										required pattern="[0-9]{8}">
										<div class="invalid-feedback">Ingrese el dni correctamente.</div>
								</div>
								<div class="col-sm-6">
									<label class="control-label" for="ubigeo">Ubigeo : </label> <input
										id="ubigeo" type="text" class="form-control"
										th:field="*{ubigeo}" autofocus="autofocus"
										required pattern="[0-9]{6}">
										<div class="invalid-feedback">Ingrese el ubigeo correctamente.</div>
								</div>
								</div>
								<div class="form-group" id="textoRuc">
									<label class="control-label" for="ruc">RUC Empresa : </label> <input
										id="ruc" type="text" class="form-control"
										th:field="*{ruc}" autofocus="autofocus"
										pattern="[0-9]{11}">
										<div class="invalid-feedback">Ingrese el ruc correctamente.</div>
								</div>
								<div class="form-group">
									<label class="control-label" for="direccion">Dirección
										: </label> <input id="direccion" type="text" class="form-control"
										th:field="*{direccion}" autofocus="autofocus"
										required pattern="[a-zA-ZñÑáéíóúÁÉÍÓÚ\s#0-9]{5,100}">
										<div class="invalid-feedback">Ingrese la dirección correctamente.</div>
								</div>
								<div class="form-group">
									<label class="control-label" for="telefono">Teléfono :
									</label> <input id="telefono" type="text" class="form-control"
										th:field="*{telefono}" autofocus="autofocus"
										required pattern="[0-9]{9}">
										<div class="invalid-feedback">Ingrese el teléfono correctamente.</div>
								</div>
								<div class="form-group">
									<label class="control-label" for="email">Email : </label> <input
										id="email" type="email" class="form-control"
										th:field="*{email}" autofocus="autofocus"
										required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
										<div class="invalid-feedback">Ingrese el email correctamente.</div>
								</div>
								<div class="form-group row">
									<div class="col-sm-6 mb-3 mb-sm-0">
										<label class="control-label" for="password">Contraseña
											: </label> <input type="password" id="password" class="form-control"
											th:field="*{password}" autofocus="autofocus"
											required pattern="^(?=\w*\d)(?=\w*[A-Z])(?=\w*[a-z])\S{8,16}$">
										<div class="invalid-feedback">Ingrese una contraseña. La contraseña debe ser de 8 a 15 caracteres. 
										La contraseña debe tener al menos una letra minuscula, una mayuscula y un número.</div>
									</div>
									<!--  <div class="col-sm-6">
                                        <input type="password" class="form-control form-control-user"
                                            id="exampleRepeatPassword" placeholder="Repeat Password">
                                    </div> -->
								</div>
								<div class="form-group">
									<label class="control-label" for="emailRecuperacion">Email
										de Recuperación: </label> <input id="emailRecuperacion" type="email"
										class="form-control" th:field="*{emailRecuperacion}"
										autofocus="autofocus"
										required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
										<div class="invalid-feedback">Ingrese el email de recuperación correctamente.</div>
								</div>
								<div class="form-group">
									<label></label>
									<div class="text-center">
										 <button type="submit" class="btn btn-success btn-block"
										 name="registro-submit" id="submit" value="Registrar">Registrar</button> 
										<span>Si ya estas registrado <a th:href="@{/login}">Inicia
												sesión aquí</a></span>
									</div>
								</div>
							</form>
							<div class="text-center">
								<a class="small" href="forgot-password.html">¿Olvidó su
									contraseña?</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
		integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
		crossorigin="anonymous">
    </script>
    <script src="js/registro.js"></script>
    <script>
	    $(document).ready(function() {
	        // Oculta el campo de entrada en la carga inicial de la página
	        $("#ruc").hide();
	
	        // Muestra u oculta el campo de entrada según la opción seleccionada
	        $("input[name='rol']").change(function() {
	          var target = $(this).data("target");
	          if ($(this).val() == "empresario") {
	            $(target).show();
	          } else {
	            $(target).hide();
	          }
	        });
	      });
    </script>
</body>
</html>















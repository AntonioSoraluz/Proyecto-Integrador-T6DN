<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="registro::headlogin"></head>
<body class="bg-gradient-primary">

	<div class="container">

		<div class="row justify-content-center">

			<div class="col-xl-10 col-lg-12 col-md-9">

				<div class="card o-hidden border-0 shadow-lg my-5">
					<div class="card-body p-0">
						<div class="row">
							<div class="col-lg-6 d-none d-lg-block bg-login-image">
								<img class="img-fluid" th:src="@{/img/login_img.png}">
							</div>
							<div class="col-lg-6">
								<div class="p-5">
									<div class="text-center">
										<h1 class="font-weight-bold mb-0">Crece Perú</h1>
									</div>
									<br>
									<form class="user needs-validation" th:action="@{/login}" method="post"
									id="formulario" novalidate>
										<div th:if=${param.error}>
											<div class="alert alert-danger" id="alerta">Email o contraseña
												inválidos</div>
										</div>
										<div th:if=${param.logout}>
											<div class="alert alert-info" id="alerta">Ha cerrado sesión
												exitosamente</div>
										</div>
										<div class="form-group">
											<label for="username">Email : </label> <input id="username"
												name="username" type="email"
												class="form-control"
												autofocus="autofocus" placeholder="Ingrese su email"
												required pattern="^(?! )[a-z0-9._-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
											<div class="invalid-feedback">Ingrese el email correctamente.</div>
										</div>
										<div class="form-group">
											<label for="password">Contraseña : </label> <input
												id="password" type="password" name="password"
												class="form-control" autofocus="autofocus"
												placeholder="Ingrese su contraseña"
												required><!-- pattern="^(?! )(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,15}$" -->
											<div class="invalid-feedback">Ingrese la contraseña correctamente.</div>
										</div>
										<div class="form-group">
											<label></label>
											<div class="text-center">
												<button type="submit" class="btn btn-primary btn-block"
										 		name="login-submit" id="login-submit" value="Iniciar sesión">Iniciar sesión</button> 
											</div>
										</div>
									</form>
									<div class="text-center">
										<a class="small" href="forgot-password.html">¿Olvidó su
											contraseña?</a>
									</div>
									<div class="text-center">
										<a class="small" th:href="@{/registro}">¿Nuevo? Regístrate
											aquí</a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>

		</div>

	</div>
    <script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
		integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
		crossorigin="anonymous">
    </script>
    <script type="text/javascript">
    setTimeout(function(){
        var alertaElement = document.getElementById('alerta');
        if (alertaElement) {
            alertaElement.remove();
        }
    }, 3000);
    (() => {
    	  'use strict'

    	  const forms = document.querySelectorAll('.needs-validation')

    	  Array.from(forms).forEach(form => {
    	    form.addEventListener('submit', event => {
    	      if (!form.checkValidity()) {
    	        event.preventDefault()
    	        event.stopPropagation()
    	      }

    	      form.classList.add('was-validated')
    	    }, false)
    	  })
    	})()
    </script>
</html>














